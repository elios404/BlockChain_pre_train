# 설명

# - format-matcher는 문서 종류(제안서, 기획안, 보고서 등)를 입력하면 그에 맞는 포맷 구조를 알려주는 도구.
# - AI가 회의록이나 텍스트를 정리할 때, 어떤 틀에 맞춰 요약해야 할지 판단하는 데 사용된다.
# - 내용이 정리되어 있지 않아도, 포맷만 알면 구조적으로 정리할 수 있게 도와준다


from mcp.server.fastmcp import FastMCP

#-------------------------------------------------------------------
# 1. MCP 서버 인스턴스 생성
#-------------------------------------------------------------------
mcp = FastMCP("format-matcher")

#-------------------------------------------------------------------
# 2. 도구 등록
#-------------------------------------------------------------------
FORMATS = {
    "제안서": ["배경", "문제점", "해결방안", "기대효과"],
    "기획안": ["목표", "대상", "방법", "일정"],
    "보고서": ["요약", "분석", "결과", "제언"]
}

@mcp.tool()
def get_format_by_category(category: str) -> list[str]:
    """
    입력된 category(예: 제안서)에 따라 포맷 구조를 반환합니다.
    """
    print(f"[TOOL] category: {category}")
    return FORMATS.get(category, ["서론", "본론", "결론"])  # 기본값
#-------------------------------------------------------------------
# 3. MCP 서버 실행
#-------------------------------------------------------------------
if __name__ == "__main__":
    mcp.run(transport="stdio")